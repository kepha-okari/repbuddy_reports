<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <!-- My CSS -->
    <link rel="stylesheet" href="style.css">
    
    <title>Agenda Details</title>
</head>
<body>

 

  
        <!-- SIDEBAR -->
        <section id="sidebar"></section>
        <script>
            var sidebar = document.getElementById("sidebar");
            
            fetch('sidebar.html') // Replace 'sidebar.html' with the correct path to your sidebar content
                .then(response => response.text())
                .then(data => {
                    sidebar.innerHTML = data;
                })
                .catch(error => {
                    console.error('Error fetching sidebar:', error);
                });
        </script>
        <!-- SIDEBAR -->
        
        <!-- CONTENT -->
        <section id="content">
            <!-- NAVBAR -->
            <nav id="navbarContainer"></nav>
            <script>
                var navbarContainer = document.getElementById("navbarContainer");
                
                fetch('navbar.html') // Replace 'navbar.html' with the correct path to your navigation bar content
                    .then(response => response.text())
                    .then(data => {
                        navbarContainer.innerHTML = data;
                    })
                    .catch(error => {
                        console.error('Error fetching navigation bar:', error);
                    });
            </script>
            <!-- NAVBAR -->
            
            <!-- MAIN -->
            <main>
          
                <div class="head-title">
                    <div class="left">
                        <h1 id="rep-name"></h1>
                    </div>
                </div>
                
                <ul class="box-info">
                    <li>
                        <i class='bx bxs-calendar-check'></i>
                        <span class="text">
                            <p>Agenda No.</p>
                            <h3 id="total-tasks"></h3>
                        </span>
                    </li>
              
                  
                    <li>
                        <i class='bx bxs-dollar-circle'></i>
                        <span class="text">
                            <p>Samples</p>
                            <h3 id="samples-given"></h3>
                        </span>
                    </li>

                    <li>
                        <i class='bx bxs-group'></i>
                        <span class="text">
                            <p>Visits</p>
                            <h3 id="visits"></h3>
                        </span>
                    </li>

                </ul>

                <div class="agenda-details">
                    <h3 id="task-name"></h3>
                      
                    <!-- <pre id="task-details"></pre> -->
                    <div class="col-md-6">

                    </div>
                    <div class="col-md-6">
                        <div class="todo">
                            <div class="head">
                                <h3>Todos</h3>
                                <i class='bx bx-plus' ></i>
                                <i class='bx bx-filter' ></i>
                            </div>
                            <ul class="todo-list">
                                <li class="completed">
                                    <p>Todo List</p>
                                    <i class='bx bx-dots-vertical-rounded' ></i>
                                </li>
                                <li class="completed">
                                    <p>Todo List</p>
                                    <i class='bx bx-dots-vertical-rounded' ></i>
                                </li>
                                <li class="not-completed">
                                    <p>Todo List</p>
                                    <i class='bx bx-dots-vertical-rounded' ></i>
                                </li>
                                <li class="completed">
                                    <p>Todo List</p>
                                    <i class='bx bx-dots-vertical-rounded' ></i>
                                </li>
                                <li class="not-completed">
                                    <p>Todo List</p>
                                    <i class='bx bx-dots-vertical-rounded' ></i>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
            </main>
            <!-- MAIN -->
            
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const urlParams = new URLSearchParams(window.location.search);
                    const taskJSON = urlParams.get('task');
                    // const pendingCount = 1;
                    // const completedCount = 3;
                    // const rescheduledCount = userActivities.filter(activity => activity.status === '3').length;
                    // const cancelledCount = userActivities.filter(activity => activity.status === '4').length;

                    if (taskJSON) {
                        try {
                            // Parse the JSON object from URL parameter
                            const task = JSON.parse(decodeURIComponent(taskJSON));
                            // Display the entire object as a string within a <pre> tag
                            const taskDetails = document.getElementById('task-details');

                            document.getElementById('total-tasks').textContent = '#'+task.id;
                            // document.getElementById('overall-total-completed').textContent = task.longitude;
                            document.getElementById('samples-given').textContent = 155;
                            document.getElementById('rep-name').textContent = task.sales_rep_name;
                            document.getElementById('visits').textContent = 0;
                            document.getElementById('task-name').textContent = task.activity_name;
                            document.getElementById('visits').textContent = 0;

                            taskDetails.textContent = JSON.stringify(task, null, 2);
                        } catch (error) {
                            console.error('Error parsing JSON:', error);
                        }
                    } else {
                        console.error('No task data found in the URL.');
                    }
                });
            </script>
        </section>
        <!-- CONTENT -->
</body>
</html>
